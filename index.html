<!doctype html>
<html>
<head><title>Tim</title></head>

<body>
<h1><a href=http://github.com/premasagar/tim>Tim</a></h1>
<p>This document includes <a href=http://github.com/premasagar/tim>tim.js</a>, and contains micro-templates in the HTML for testing.</p>

<h2>Output</h2>
<p><em>View the HTML source</em> to see what's going on.</p>
<pre><code id=console></code></pre>
    

<!-- MICRO-TEMPLATES -->
<script type=text/tim class=staticText>
Mary had a little lamb.
</script>

<script type=text/tim class=helloPerson>
Hi, {{name}}. I'm Tim.
</script>

<script type=text/tim data-tim=myAttrTest>
data-* attributes are utterly {{adj}}.
</script>

<script type=text/tim+erb class=myErbTest>
ERB is <% adj %>, btw.
</script>


<!-- SCRIPTING -->
<!-- First, include tim.js or a variant (it doesn't matter if this is at the top of document or not) -->
<script src=tim.js></script>

<!-- Then, use it -->
<script>
    var log = "";
        
    /////
    

    // A simple call to Tim, supplying the template as a string
    log += tim("Inline templates are {{adj}}.", {adj:"useful"});
    
    
    /////
    
    
    // Referencing a simple text template, without data substitution
    log += tim("staticText");
    

    /////


    // Referencing a micro-template in the document's HTML
    log += tim("helloPerson", {name:"Bob"});
    
    
    /////
    
    
    // Change the target script element attribute
    tim.dom({attr:"data-tim"});
    log += tim("myAttrTest", {adj:"terrific"});
    
    
    /////


    // Change the template's start/end delimiters and the target script element type
    var erb = tim.parser({start:"<%", end:"%>", type:"text/tim+erb"});
    log += erb("myErbTest", {adj:"lovely"});
    
    /* NOTE: the above could have been written as:
    var erb = tim({start:"<%", end:"%>"});
    erb.dom({type:"text/tim+erb"});
    */
    
    /////
    
    document.getElementById("console").innerHTML = log;
</script>
</body>
</html>
