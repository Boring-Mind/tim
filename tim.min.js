/*!
* Tim
*   github.com/premasagar/tim
*//*
    A tiny, secure JavaScript micro-templating script.
*/
var tim=function r(d){function o(a){l.push(a);return a}function s(){for(var a=p=0,c=l.length;a<c;a++)l[a]()}function m(a,c){var b;switch(typeof a){case "string":if(c===n)return j[a];j[a]=c;break;case "undefined":return j;case "object":for(b in a)if(a.hasOwnProperty(b))j[b]=a[b]}}function h(a,c){p&&s();switch(typeof a){case "string":if(typeof c==="string")return m(a,c);if(a.indexOf(q)<0){a=m(a);if(!a||c===n)return a}return a.replace(t,function(b,k){for(var e=k.split("."),f=e.length,g=c,i=0;i<f;i++){g=
g[e[i]];if(g===n)throw"tim: '"+e[i]+"' not found in "+b;if(i===f-1)return g}});case "undefined":return m();case "object":return r(a)}}d=d||{};var q=d.start||"{{",j=d.templates||{},t=RegExp(q+"\\s*("+(d.path||"[a-z0-9_][\\.a-z0-9_]*")+")\\s*"+(d.end||"}}"),"gi"),p=1,l=[],n;h.settings=d;h.init=o;h.dom=o(function(a){a=a||{};var c=a.type||d.type||"text/tim";a=a.attr||d.attr||"class";var b=window.document,k=!!b.querySelectorAll;b=k?b.querySelectorAll("script[type='"+c+"']"):b.getElementsByTagName("script");
for(var e=b.length,f,g;e;e--){f=b[e-1];if((g=f.getAttribute(a))&&k||b[f.type]===c)h(g,f.innerHTML)}});return h}();
